#!/usr/bin/env bash

# Run a Git hook

runhook () {
  local hook="${1:-}"
  local toplevel="$(git rev-parse --show-toplevel)"

  if [[ -z "${hook}" ]]
  then
    echo "No hook provided"
    return 1
  fi

  local hookbin=".git/hooks/${hook}"

  if [[ -f ${toplevel}/${hookbin} ]]
  then
     pushd ${toplevel} > /dev/null
     bash ${hookbin}
     local retval=${?}
     popd > /dev/null
  fi

  return ${retval}
}

runhook($@)
